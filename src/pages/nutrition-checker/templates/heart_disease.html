<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Heart Disease Check</title>
  <!-- Update the stylesheet path if yours is named/styles differently -->
  <link rel="stylesheet" href="/static/css/styles.css">
</head>
<body>
  <div class="container">
    <h1>Check Heart Disease</h1>
    <form method="POST" action="/heart-disease">

      <!-- Age -->
      <div class="form-group">
        <label for="age">Age (in years):</label>
        <input type="number" name="age" placeholder="e.g., 45" required />
      </div>

      <!-- Sex -->
      <div class="form-group">
        <label for="sex">Sex (1 = Male, 0 = Female):</label>
        <input type="number" name="sex" min="0" max="1" placeholder="0 or 1" required />
      </div>

      <!-- Chest Pain Type -->
      <div class="form-group">
        <label for="cp">Chest Pain Type (0 = Typical, 1 = Atypical, 2 = Non-anginal, 3 = Asymptomatic):</label>
        <input type="number" name="cp" min="0" max="3" placeholder="0 to 3" required />
      </div>

      <!-- Resting Blood Pressure -->
      <div class="form-group">
        <label for="trestbps">Resting Blood Pressure (mmHg):</label>
        <input type="number" name="trestbps" placeholder="e.g., 130" required />
      </div>

      <!-- Serum Cholesterol -->
      <div class="form-group">
        <label for="chol">Serum Cholesterol (mg/dl):</label>
        <input type="number" name="chol" placeholder="e.g., 250" required />
      </div>

      <!-- Fasting Blood Sugar -->
      <div class="form-group">
        <label for="fbs">Fasting Blood Sugar > 120 mg/dl (1 = true, 0 = false):</label>
        <input type="number" name="fbs" min="0" max="1" placeholder="0 or 1" required />
      </div>

      <!-- Resting ECG Results -->
      <div class="form-group">
        <label for="restecg">Resting ECG Results (0 = Normal, 1 = ST-T abnormality, 2 = LV hypertrophy):</label>
        <input type="number" name="restecg" min="0" max="2" placeholder="0 to 2" required />
      </div>

      <!-- Maximum Heart Rate Achieved -->
      <div class="form-group">
        <label for="thalach">Maximum Heart Rate Achieved (bpm):</label>
        <input type="number" name="thalach" placeholder="e.g., 170" required />
      </div>

      <!-- Exercise Induced Angina -->
      <div class="form-group">
        <label for="exang">Exercise Induced Angina (1 = Yes, 0 = No):</label>
        <input type="number" name="exang" min="0" max="1" placeholder="0 or 1" required />
      </div>

      <!-- ST Depression Induced by Exercise -->
      <div class="form-group">
        <label for="oldpeak">ST Depression Induced by Exercise (float):</label>
        <input type="number" step="0.1" name="oldpeak" placeholder="e.g., 2.3" required />
      </div>

      <!-- Slope of the Peak Exercise ST Segment -->
      <div class="form-group">
        <label for="slope">Slope of the ST Segment (0 = Upsloping, 1 = Flat, 2 = Downsloping):</label>
        <input type="number" name="slope" min="0" max="2" placeholder="0 to 2" required />
      </div>

      <!-- Number of Major Vessels -->
      <div class="form-group">
        <label for="ca">Number of Major Vessels Colored by Fluoroscopy (0-3):</label>
        <input type="number" name="ca" min="0" max="3" placeholder="0 to 3" required />
      </div>

      <!-- Thalassemia -->
      <div class="form-group">
        <label for="thal">Thal (3 = Normal, 6 = Fixed Defect, 7 = Reversible Defect):</label>
        <input type="number" name="thal" min="3" max="7" placeholder="3, 6, or 7" required />
      </div>

      <button type="submit">Check Heart Disease</button>
    </form>

    {% if diagnosis %}
      <div class="result">
        <h3>Diagnosis:</h3>
        <p>{{ diagnosis }}</p>
      </div>

      <!-- After getting diagnosis, proceed to nutrition with query param disease=heart -->
      <a class="btn" href="/nutrition?disease=heart">Check Nutrition Next</a>
    {% endif %}

    <a href="/">Back to Home</a>
  </div>
</body>
</html>
